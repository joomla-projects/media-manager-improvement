!function t(e,i,n){function r(u,s){if(!i[u]){if(!e[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(o)return o(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var l=i[u]={exports:{}};e[u][0].call(l.exports,function(t){var i=e[u][1][t];return r(i||t)},l,l.exports,t,e,i,n)}return i[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)r(n[u]);return r}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":u(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":u(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,HTMLElement),s(e,[{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"basepath":case"rootfolder":case"url":case"modalcont":case"input":case"buttonselect":case"buttonclear":case"buttonsaveselected":case"previewContainer":break;case"modalwidth":case"modalheight":case"previewwidth":case"previewheight":break;case"preview":-1<["true","false","tooltip","static"].indexOf(i)&&e!==i&&(this.preview=i)}}},{key:"connectedCallback",value:function(){var t=this,e=this.querySelector(this.buttonselect),i=this.querySelector(this.buttonclear);e.addEventListener("click",function(){t.show(t)}),i&&i.addEventListener("click",function(){t.clearValue()}),this.updatePreview()}},{key:"disconnectedCallback",value:function(){this.querySelector(this.buttonselect).removeEventListener("click",self)}},{key:"show",value:function(t){window.jQuery(this.querySelector('[role="dialog"]')).modal("show"),window.jQuery(this.querySelector(this.buttonsaveselected)).on("click",function(e){return e.preventDefault(),e.stopPropagation(),t.selectedPath?t.setValue(t.rootfolder+t.selectedPath):t.setValue(""),t.modalClose(t),!1}),window.document.addEventListener("onMediaFileSelected",function(e){var i=e.item.path;t.selectedPath=i.match(/.jpg|.jpeg|.gif|.png/)?e.item.path:""})}},{key:"modalClose",value:function(t){window.jQuery(t.querySelector('[role="dialog"]')).modal("hide")}},{key:"setValue",value:function(t){window.jQuery(this.querySelector(this.input)).val(t).trigger("change"),this.updatePreview()}},{key:"clearValue",value:function(){this.setValue("")}},{key:"updatePreview",value:function(){if(-1!==["true","tooltip","static"].indexOf(this.preview)&&"false"!==this.preview&&this.preview){var t=window.jQuery(this.querySelector(this.previewcontainer)),e=window.jQuery(this.querySelector(this.input)),i=e.val();if(t.popover("dispose"),e.tooltip("dispose"),i){var n=new Image(this.previewwidth,this.previewheight);n.src=this.basepath+i,t.popover({content:n,html:!0}),e.tooltip({placement:"top",title:i})}else t.popover({content:Joomla.JText._("JLIB_FORM_MEDIA_PREVIEW_EMPTY"),html:!0})}}},{key:"basepath",get:function(){return this.getAttribute("basepath")},set:function(t){this.setAttribute("basepath",t)}},{key:"rootfolder",get:function(){return this.getAttribute("rootfolder")},set:function(t){this.setAttribute("rootfolder",t)}},{key:"url",get:function(){return this.getAttribute("url")},set:function(t){this.setAttribute("url",t)}},{key:"modalcont",get:function(){return this.getAttribute("modalcont")},set:function(t){this.setAttribute("modalcont",t)}},{key:"input",get:function(){return this.getAttribute("input")},set:function(t){this.setAttribute("input",t)}},{key:"buttonselect",get:function(){return this.getAttribute("buttonselect")},set:function(t){this.setAttribute("buttonselect",t)}},{key:"buttonclear",get:function(){return this.getAttribute("buttonclear")},set:function(t){this.setAttribute("buttonclear",t)}},{key:"buttonsaveselected",get:function(){return this.getAttribute("buttonsaveselected")},set:function(t){this.setAttribute("buttonsaveselected",t)}},{key:"modalwidth",get:function(){return this.getAttribute(parseInt("modalwidth",10))},set:function(t){this.setAttribute("modalwidth",t)}},{key:"modalheight",get:function(){return this.getAttribute(parseInt("modalheight",10))},set:function(t){this.setAttribute("modalheight",t)}},{key:"previewwidth",get:function(){return this.getAttribute("previewwidth")},set:function(t){this.setAttribute("previewwidth",t)}},{key:"previewheight",get:function(){return this.getAttribute("previewheight")},set:function(t){this.setAttribute("previewheight",t)}},{key:"preview",get:function(){return this.getAttribute("preview")},set:function(t){this.setAttribute("preview",t)}},{key:"previewcontainer",get:function(){return this.getAttribute("previewcontainer")}}],[{key:"observedAttributes",get:function(){return["basepath","rootfolder","url","modalcont","modalwidth","modalheight","input","buttonselect","buttonclear","buttonsaveselected","preview","previewwidth","previewheight"]}}]),e}();customElements.define("joomla-field-media",c)},{}]},{},[1]);