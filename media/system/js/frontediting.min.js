!function(t){t.fn.extend({jEditMakeAbsolute:function(e){return this.each(function(){var o,i=t(this);o=e?i.offset():i.position(),i.css({position:"absolute",marginLeft:0,marginTop:0,top:o.top,left:o.left,bottom:"auto",right:"auto"}),e&&i.detach().appendTo("body")})}}),t(document).ready(function(){var e=function(e,o){var i,n,d,a,l,s,p,r,u,m,c,h,f,v;return h=function(t){return p<t.top&&l<t.left&&s>t.left+200&&a>t.top+100},i=t(o),v=t.extend({},i.offset(),{width:o.offsetWidth,height:o.offsetHeight}),p=t(document).scrollTop(),l=t(document).scrollLeft(),s=l+t(window).width(),a=p+t(window).height(),r={top:v.top-100,left:v.left+v.width/2-100},u={top:v.top+v.height,left:v.left+v.width/2-100},m={top:v.top+v.height/2-50,left:v.left-200},c={top:v.top+v.height/2-50,left:v.left+v.width},n=h(r),d=h(u),f=h(m),h(c),n?"top":d?"bottom":f?"left":"right"};t(".jmoddiv").on({mouseenter:function(){var o=t(this).data("jmodediturl"),i=t(this).data("jmodtip"),n=t(this).data("target");t("body>.btn.jmodedit").clearQueue().tooltip("dispose").remove(),t(this).addClass("jmodinside").prepend('<a class="btn jmodedit" href="#" target="'+n+'"><span class="icon-edit"></span></a>').children(":first").attr("href",o).attr("title",i).tooltip({container:!1,html:!0,placement:e}).jEditMakeAbsolute(!0),t(".btn.jmodedit").on({mouseenter:function(){t(this).clearQueue()},mouseleave:function(){t(this).delay(500).queue(function(e){t(this).tooltip("dispose").remove(),e()})}})},mouseleave:function(){t("body>.btn.jmodedit").delay(500).queue(function(e){t(this).tooltip("dispose").remove(),e()})}});var o=null;t(".jmoddiv[data-jmenuedittip] .nav li,.jmoddiv[data-jmenuedittip].nav li,.jmoddiv[data-jmenuedittip] .nav .nav-child li,.jmoddiv[data-jmenuedittip].nav .nav-child li").on({mouseenter:function(){var e=/\bitem-(\d+)\b/.exec(t(this).attr("class"));if("string"==typeof e[1])var i=t(this).closest(".jmoddiv"),n=i.data("jmodediturl").replace(/\/index.php\?option=com_config&controller=config.display.modules([^\d]+).+$/,"/administrator/index.php?option=com_menus&view=item&layout=edit$1"+e[1]);var d=i.data("jmenuedittip").replace("%s",e[1]),a=t('<div><a class="btn jfedit-menu" href="#" target="_blank"><span class="icon-edit"></span></a></div>');a.children("a.jfedit-menu").prop("href",n).prop("title",d),o&&t(o).popover("hide"),t(this).popover({html:!0,content:a.html(),container:"body",trigger:"manual",animation:!1,placement:"bottom"}).popover("show"),o=this,t("body>div.popover").on({mouseenter:function(){o&&t(o).clearQueue()},mouseleave:function(){o&&t(o).popover("hide")}}).find("a.jfedit-menu").tooltip({container:!1,html:!0,placement:"bottom"})},mouseleave:function(){t(this).delay(1500).queue(function(e){t(this).popover("hide"),e()})}})})}(jQuery);