!function(a){a.fn.extend({jEditMakeAbsolute:function(b){return this.each(function(){var c,d=a(this);c=b?d.offset():d.position(),d.css({position:"absolute",marginLeft:0,marginTop:0,top:c.top,left:c.left,bottom:"auto",right:"auto"}),b&&d.detach().appendTo("body")})}}),a(document).ready(function(){var b=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return o=function(a){return j<a.top&&h<a.left&&i>a.left+200&&g>a.top+100},d=a(c),q=a.extend({},d.offset(),{width:c.offsetWidth,height:c.offsetHeight}),j=a(document).scrollTop(),h=a(document).scrollLeft(),i=h+a(window).width(),g=j+a(window).height(),k={top:q.top-100,left:q.left+q.width/2-100},l={top:q.top+q.height,left:q.left+q.width/2-100},m={top:q.top+q.height/2-50,left:q.left-200},n={top:q.top+q.height/2-50,left:q.left+q.width},e=o(k),f=o(l),p=o(m),o(n),e?"top":f?"bottom":p?"left":"right"};a(".jmoddiv").on({mouseenter:function(){var c=a(this).data("jmodediturl"),d=a(this).data("jmodtip"),e=a(this).data("target");a("body>.btn.jmodedit").clearQueue().tooltip("dispose").remove(),a(this).addClass("jmodinside").prepend('<a class="btn jmodedit" href="#" target="'+e+'"><span class="icon-edit"></span></a>').children(":first").attr("href",c).attr("title",d).tooltip({container:!1,html:!0,placement:b}).jEditMakeAbsolute(!0),a(".btn.jmodedit").on({mouseenter:function(){a(this).clearQueue()},mouseleave:function(){a(this).delay(500).queue(function(b){a(this).tooltip("dispose").remove(),b()})}})},mouseleave:function(){a("body>.btn.jmodedit").delay(500).queue(function(b){a(this).tooltip("dispose").remove(),b()})}});var c=null;a(".jmoddiv[data-jmenuedittip] .nav li,.jmoddiv[data-jmenuedittip].nav li,.jmoddiv[data-jmenuedittip] .nav .nav-child li,.jmoddiv[data-jmenuedittip].nav .nav-child li").on({mouseenter:function(){var b=/\bitem-(\d+)\b/.exec(a(this).attr("class"));if("string"==typeof b[1])var d=a(this).closest(".jmoddiv"),e=d.data("jmodediturl"),f=e.replace(/\/index.php\?option=com_config&controller=config.display.modules([^\d]+).+$/,"/administrator/index.php?option=com_menus&view=item&layout=edit$1"+b[1]);var g=d.data("jmenuedittip").replace("%s",b[1]),h=a('<div><a class="btn jfedit-menu" href="#" target="_blank"><span class="icon-edit"></span></a></div>');h.children("a.jfedit-menu").prop("href",f).prop("title",g),c&&a(c).popover("hide"),a(this).popover({html:!0,content:h.html(),container:"body",trigger:"manual",animation:!1,placement:"bottom"}).popover("show"),c=this,a("body>div.popover").on({mouseenter:function(){c&&a(c).clearQueue()},mouseleave:function(){c&&a(c).popover("hide")}}).find("a.jfedit-menu").tooltip({container:!1,html:!0,placement:"bottom"})},mouseleave:function(){a(this).delay(1500).queue(function(b){a(this).popover("hide"),b()})}})})}(jQuery);