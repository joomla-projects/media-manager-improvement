!function(a){a.fn.extend({jEditMakeAbsolute:function(b){return this.each(function(){var c,d=a(this);c=b?d.offset():d.position(),d.css({position:"absolute",marginLeft:0,marginTop:0,top:c.top,left:c.left,bottom:"auto",right:"auto"}),b&&d.detach().appendTo("body")})}}),a(document).ready(function(){var b=200,c=100,d=function(d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return q=function(a){return l<a.top&&j<a.left&&k>a.left+b&&i>a.top+c},f=a(e),s=a.extend({},f.offset(),{width:e.offsetWidth,height:e.offsetHeight}),l=a(document).scrollTop(),j=a(document).scrollLeft(),k=j+a(window).width(),i=l+a(window).height(),m={top:s.top-c,left:s.left+s.width/2-b/2},n={top:s.top+s.height,left:s.left+s.width/2-b/2},o={top:s.top+s.height/2-c/2,left:s.left-b},p={top:s.top+s.height/2-c/2,left:s.left+s.width},g=q(m),h=q(n),r=q(o),t=q(p),g?"top":h?"bottom":r?"left":"right"};a(".jmoddiv").on({mouseenter:function(){var b=a(this).data("jmodediturl"),c=a(this).data("jmodtip"),e=a(this).data("target");a("body>.btn.jmodedit").clearQueue().tooltip("dispose").remove(),a(this).addClass("jmodinside").prepend('<a class="btn jmodedit" href="#" target="'+e+'"><span class="icon-edit"></span></a>').children(":first").attr("href",b).attr("title",c).tooltip({container:!1,html:!0,placement:d}).jEditMakeAbsolute(!0),a(".btn.jmodedit").on({mouseenter:function(){a(this).clearQueue()},mouseleave:function(){a(this).delay(500).queue(function(b){a(this).tooltip("dispose").remove(),b()})}})},mouseleave:function(){a("body>.btn.jmodedit").delay(500).queue(function(b){a(this).tooltip("dispose").remove(),b()})}});var e=null;a(".jmoddiv[data-jmenuedittip] .nav li,.jmoddiv[data-jmenuedittip].nav li,.jmoddiv[data-jmenuedittip] .nav .nav-child li,.jmoddiv[data-jmenuedittip].nav .nav-child li").on({mouseenter:function(){var b=/\bitem-(\d+)\b/.exec(a(this).attr("class"));if("string"==typeof b[1])var c=a(this).closest(".jmoddiv"),d=c.data("jmodediturl"),f=d.replace(/\/index.php\?option=com_config&controller=config.display.modules([^\d]+).+$/,"/administrator/index.php?option=com_menus&view=item&layout=edit$1"+b[1]);var g=c.data("jmenuedittip").replace("%s",b[1]),h=a('<div><a class="btn jfedit-menu" href="#" target="_blank"><span class="icon-edit"></span></a></div>');h.children("a.jfedit-menu").prop("href",f).prop("title",g),e&&a(e).popover("hide"),a(this).popover({html:!0,content:h.html(),container:"body",trigger:"manual",animation:!1,placement:"bottom"}).popover("show"),e=this,a("body>div.popover").on({mouseenter:function(){e&&a(e).clearQueue()},mouseleave:function(){e&&a(e).popover("hide")}}).find("a.jfedit-menu").tooltip({container:!1,html:!0,placement:"bottom"})},mouseleave:function(){a(this).delay(1500).queue(function(b){a(this).popover("hide"),b()})}})})}(jQuery);