!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".module-ajax-ordering"),t=e.getAttribute("data-linked-field")?e.getAttribute("data-linked-field"):"jform_position",n=document.getElementById(t),a=n.value,d=function(e,t,n,a,d){var i,r=document.createElement("select");r.classList.add(e.itemClass),r.setAttribute("name",e.name),r.id=e.id,d&&(d.innerHTML="",d.appendChild(r));var o,s,l=n,u=0;for(o in t)t.hasOwnProperty(o)&&(s=t[o],(i=document.createElement("option")).value=s[1],i.innerHTML=s[2],(l&&a==s[1]||!l&&0===u)&&i.setAttribute("selected","selected"),r.appendChild(i),r.parentNode.innerHtml="",r.parentNode.appendChild(r),u++)},i=function(e,t){var n=e.getAttribute("data-url"),a=e.getAttribute("data-client-id"),i=document.getElementById(e.getAttribute("data-element")),r=e.getAttribute("data-ordering"),o=e.getAttribute("data-name"),s=e.getAttribute("data-client-attr")?e.getAttribute("data-client-attr"):"custom-select",l=e.getAttribute("id")+"_1",u=new Array;Joomla.request({url:n,method:"GET",data:"client_id="+a+"&position="+t,perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(e,n){if(e&&(e=JSON.parse(e)).data.length>0){for(var a=0;a<e.data.length;++a)u[a]=e.data[a].split(",");d({name:o,id:l,itemClass:s},u,t,r,i)}"object"==typeof e.messages&&null!==e.messages&&(Joomla.renderMessages(e.messages),window.scrollTo(0,0))}})};i(e,a),window.jQuery&&jQuery().chosen?jQuery(n).chosen().change(function(){a=jQuery(n).chosen().val(),i(e,a),jQuery(e.childNodes[0]).chosen("destroy"),jQuery(e.childNodes[0]).chosen()}):n.addEventListener("change",function(){a=n.value,i(e,a)})})}();