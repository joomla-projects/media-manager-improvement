"use strict";var PasswordStrength;PasswordStrength=function(){function a(a){this.lowercase=a.lowercase||0,this.uppercase=a.uppercase||0,this.numbers=a.numbers||0,this.special=a.special||0,this.length=a.length||4}return a.prototype.getScore=function(a){for(var b=0,c=0,d=["lowercase","uppercase","numbers","special","length"],e=0,f=d.length;f>e;e++)this.hasOwnProperty(d[e])&&this[d[e]]>0&&(c+=1);return b+=this.calc(a,/[a-z]/g,this.lowercase,c),b+=this.calc(a,/[A-Z]/g,this.uppercase,c),b+=this.calc(a,/[0-9]/g,this.numbers,c),b+=this.calc(a,/[\$\!\#\?\=\;\:\*\-\_\€\%\&\(\)\`\´]/g,this.special,c),b+=1==c?a.length>this.length?100:100/this.length*a.length:a.length>this.length?100/c:100/c/this.length*a.length},a.prototype.calc=function(a,b,c,d){var e;return e=a.match(b),e&&e.length>c&&0!=c?100/d:e&&c>0?100/d/c*e.length:0},a}(),document.addEventListener("DOMContentLoaded",function(){for(var a=function(a){var b=a.getAttribute("data-min-length"),c=a.getAttribute("data-min-integers"),d=a.getAttribute("data-min-symbols"),e=a.getAttribute("data-min-uppercase"),f=a.getAttribute("data-min-lowercase"),g=document.querySelector(".progress-bar"),h=new PasswordStrength({lowercase:f?f:0,uppercase:e?e:0,numbers:c?c:0,special:d?d:0,length:b?b:4}),i=h.getScore(a.value),j=g.getAttribute("aria-describedby").replace(/^\D+/g,""),k=a.parentNode.querySelector("#password-"+j);i>79&&(g.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated bg-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_COMPLETE")),i>64&&i<80&&(g.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated bg-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_INCOMPLETE")),i>50&&i<65&&(g.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated bg-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_INCOMPLETE")),i>40&&i<51&&(g.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated bg-warning"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_INCOMPLETE")),i<41&&(g.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated bg-danger"),k.innerHTML=Joomla.JText._("JFIELD_PASSWORD_INDICATE_INCOMPLETE")),100===i&&g.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated bg-success"),g.style.width=i+"%",a.value.length||(g.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated"),k.innerHTML="",a.setAttribute("required",""))},b=document.querySelectorAll(".js-password-strength"),c=0,d=b.length;c<d;c++){var e="",f="";b[c].value.length||(e=" bg-danger",f=0);var g=document.createElement("div");g.setAttribute("class","progress");var h=document.createElement("div");h.setAttribute("class","progress-bar progress-bar-striped progress-bar-animated"+e),h.style.width=0+f,h.max=100,h.setAttribute("aria-describedby","password-"+c),g.appendChild(h);var i=document.createElement("div");i.setAttribute("class","text-xs-center"),i.setAttribute("id","password-"+c),b[c].parentNode.append(i),b[c].parentNode.append(g),b[c].value.length>0&&b[c].setAttribute("required",!0),b[c].addEventListener("keyup",function(b){a(b.target)})}b[0]&&document.formvalidator.setHandler("password-strength",function(a){var b=!1,c=document.querySelectorAll(".js-password-strength"),d=c[0].getAttribute("data-min-length"),e=c[0].getAttribute("data-min-integers"),f=c[0].getAttribute("data-min-symbols"),g=c[0].getAttribute("data-min-uppercase"),h=c[0].getAttribute("data-min-lowercase");return 100===new PasswordStrength({lowercase:h?h:0,uppercase:g?g:0,numbers:e?e:0,special:f?f:0,length:d?d:4}).getScore(a)&&(b=!0),b})});