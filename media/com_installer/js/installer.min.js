Joomla=window.Joomla||{},function(){"use strict";document.addEventListener("DOMContentLoaded",function(){Joomla.submitbuttonpackage=function(){var t=document.getElementById("adminForm");""==t.install_package.value?alert(Joomla.JText._("PLG_INSTALLER_PACKAGEINSTALLER_NO_PACKAGE"),!0):(Joomla.displayLoader(),t.installtype.value="upload",t.submit())},Joomla.submitbuttonfolder=function(){var t=document.getElementById("adminForm");""==t.install_directory.value?alert(Joomla.JText._("PLG_INSTALLER_FOLDERINSTALLER_NO_INSTALL_PATH"),!0):(Joomla.displayLoader(),t.installtype.value="folder",t.submit())},Joomla.submitbuttonurl=function(){var t=document.getElementById("adminForm");""==t.install_url.value||"http://"==t.install_url.value||"https://"==t.install_url.value?alert(Joomla.JText._("PLG_INSTALLER_URLINSTALLER_NO_URL"),!0):(Joomla.displayLoader(),t.installtype.value="url",t.submit())},Joomla.submitbutton4=function(){var t=document.getElementById("adminForm");""==t.install_url.value||"http://"==t.install_url.value||"https://"==t.install_url.value?alert(Joomla.JText._("COM_INSTALLER_MSG_INSTALL_ENTER_A_URL"),!0):(Joomla.displayLoader(),t.installtype.value="url",t.submit())},Joomla.submitbuttonUpload=function(){var t=document.getElementById("uploadForm");""==t.install_package.value?alert(Joomla.JText._("COM_INSTALLER_MSG_INSTALL_PLEASE_SELECT_A_PACKAGE"),!0):(Joomla.displayLoader(),t.submit())},Joomla.displayLoader=function(){var t=document.getElementById("loading");t&&(t.style.display="block")};var t=document.getElementById("loading"),e=document.getElementById("installer-install");t&&e&&(t.style.top=parseInt(e.offsetTop-window.pageYOffset),t.style.left=0,t.style.width="100%",t.style.height="100%",t.style.display="none",t.style.marginTop="-10px"),document.getElementById("installbutton_package").addEventListener("click",function(t){t.preventDefault(),Joomla.submitbuttonpackage()})})}(),jQuery(document).ready(function(t){if("undefined"==typeof FormData)return t("#legacy-uploader").show(),void t("#uploader-wrapper").hide();var e=t("#dragarea"),a=t("#install_package"),l=t("#loading"),o=t("#select-file-button"),n=t("#installer-return").val(),i=t("#installer-token").val(),r="index.php?option=com_installer&task=install.ajax_upload";n&&(r+="&return="+n),o.on("click",function(t){a.click()}),a.on("change",function(t){Joomla.submitbuttonpackage()}),e.on("dragenter",function(t){return t.preventDefault(),t.stopPropagation(),e.addClass("hover"),!1}),e.on("dragover",function(t){return t.preventDefault(),t.stopPropagation(),e.addClass("hover"),!1}),e.on("dragleave",function(t){return t.preventDefault(),t.stopPropagation(),e.removeClass("hover"),!1}),e.on("drop",function(a){a.preventDefault(),a.stopPropagation(),e.removeClass("hover");var o=a.originalEvent.target.files||a.originalEvent.dataTransfer.files;if(o.length){var n=o[0],s=new FormData;s.append("install_package",n),s.append("installtype","upload"),s.append(i,1),l.css("display","block"),t.ajax({url:r,data:s,type:"post",processData:!1,cache:!1,contentType:!1}).done(function(t){t.success||console.log(t.message,t.messages),t.data.redirect?location.href=t.data.redirect:location.href="index.php?option=com_installer&view=install"}).fail(function(t){l.css("display","none"),alert(t.statusText)})}})});