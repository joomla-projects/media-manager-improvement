!function(a){"use strict";var e=!1,s=function(t,r,l){if(l>r)return a(".sampledata-"+t+" .row-title").append('<span class="icon-publish"> </span>'),void(e=!1);var o=a('<li class="'+("sampledata-steps-"+t+"-"+l)+'"><p class="loader-image text-center"><img src="'+window.modSampledataIconProgress+'" width="30" height="30" ></p></li>'),d=a(".sampledata-progress-"+t+" progress");a("div.sampledata-progress-"+t+" ul").append(o);var p=a.ajax({url:window.modSampledataUrl,type:"POST",dataType:"json",data:{type:t,plugin:"SampledataApplyStep"+l,step:l}});p.done(function(p){if(o.children(".loader-image").remove(),p.success&&p.data&&p.data.length>0){for(var n,i,c,m=0,g=p.data.length;m<g;m++)c=(n=(i=p.data[m]).success)?"success":"error",o.append(a("<div>",{html:i.message,class:"alert alert-"+c}));d.val(l/r),n&&s(t,r,++l)}else o.addClass("alert alert-error"),o.html(Joomla.JText._("MOD_SAMPLEDATA_INVALID_RESPONSE")),e=!1}),p.fail(function(a,e){alert("Something went wrong! Please close and reopen the browser and try again!")})};window.sampledataApply=function(t){var r=a(t),l=r.data("type"),o=r.data("steps");if(!e){if(!r.data("processed"))return!!confirm(Joomla.JText._("MOD_SAMPLEDATA_CONFIRM_START"))&&(a(".sampledata-progress-"+l).removeClass("d-none"),r.data("processed",!0),e=!0,s(l,o,1),!1);alert(Joomla.JText._("MOD_SAMPLEDATA_ITEM_ALREADY_PROCESSED"))}}}(jQuery);