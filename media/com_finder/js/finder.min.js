document.addEventListener("DOMContentLoaded",function(){for(var a,b=document.querySelectorAll(".js-finder-search-query"),c=0;c<b.length;c++)console.log(b[c]),b[c].addEventListener("focus",function(a){a.target.value===Joomla.JText._("MOD_FINDER_SEARCH_VALUE")&&(a.target.value="")}),Joomla.getOptions("finder-search")&&b[c].addEventListener("keypress",function(a){a.target.value.length>1&&Joomla.request({url:Joomla.getOptions("finder-search").url+"&q="+a.target.value,method:"GET",data:{q:a.target.value},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(b,c){b=JSON.parse(b),"[object Array]"===Object.prototype.toString.call(b.suggestions)&&(console.log(a.target),console.log(b.suggestions),new Awesomplete(a.target,{list:b.suggestions}))},onError:function(a){Joomla.renderMessages(Joomla.ajaxErrorsMessages(a))}})});a=document.querySelectorAll(".js-finder-searchform");for(var c=0;c<a.length;c++)a[c].addEventListener("submit",function(b){b.stopPropagation();var d=a[c].querySelector(".js-finder-advanced");if(d.length)for(var e=d.querySelector("select"),f=0;f<e.length;f++)e[f].value||e[f].setAttribute("disabled","disabled")})});