!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".folder-url, .component-folder-url, .layout-folder-url"),t=document.querySelectorAll(".folder ul, .component-folder ul, .layout-folder ul"),l=0,r=t.length;l<r;l++)t[l].style.display="none";var n=document.querySelectorAll(".show > ul");for(l=0,r=n.length;l<r;l++)n[l].style.display="block";for(l=0,r=e.length;l<r;l++)e[l].addEventListener("click",function(e){e.preventDefault();var t=this.parentNode.querySelector("ul");"none"!==t.style.display?t.style.display="none":t.style.display="block"});var o=document.querySelectorAll("#fileModal .folder-url");for(l=0,r=o.length;l<r;l++)o[l].addEventListener("click",function(e){e.preventDefault();for(var t=0,l=o.length;t<l;t++)o[t].classList.remove("selected");e.target.classList.add("selected"),[].slice.call(document.querySelectorAll("#fileModal input.address")).forEach(function(t){t.value=e.target.getAttribute("data-id")})});var a=document.querySelectorAll("#fileModal .folder-url");for(l=0,r=a.length;l<r;l++)a[l].addEventListener("click",function(e){e.preventDefault();for(var t=0,l=a.length;t<l;t++)a[t].classList.remove("selected");e.target.classList.add("selected"),[].slice.call(document.querySelectorAll("#fileModal input.address")).forEach(function(t){t.value=e.target.getAttribute("data-id")})});var d=document.querySelector("#treeholder .treeselect").querySelectorAll(".folder.show");if(document.querySelector("p.lead.hidden.path"))var c=document.querySelector("p.lead.hidden.path").innerText;if(c&&"/"===c.charAt(0)){c=(c=(c=c.slice(1)).split("/"))[c.length-1];var u=new RegExp(c);for(l=0,r=d.length;l<r;l++)if(d[l].querySelector("a").classList.add("active"),l===d.length-1){var i=d[l].querySelector("ul").querySelectorAll("li");for(l=0,r=i.length;l<r;l++){var s=i[l].querySelector("a"),f=s.querySelector("span");f&&u.test(f.innerText)&&s.classList.add("active")}}}var y=document.getElementById("image-crop");if(y){var v=document.getElementById("imageWidth").value,m=document.getElementById("imageHeight").value;new Cropper(y,{viewMode:0,scalable:!0,zoomable:!0,minCanvasWidth:v,minCanvasHeight:m});y.addEventListener("crop",function(e){document.getElementById("x").value=e.detail.x,document.getElementById("y").value=e.detail.y,document.getElementById("w").value=e.detail.width,document.getElementById("h").value=e.detail.height})}})}();