!function(){"use strict";Joomla.submitbutton=function(a,b){if("item.setType"==a||"item.setMenuType"==a){if("item.setType"==a){var c=document.querySelectorAll('#item-form input[name="jform[type]"]');c.forEach(function(a){a.value=b}),document.getElementById("fieldtype").value="type"}else{var c=document.querySelectorAll('#item-form input[name="jform[menutype]"]');c.forEach(function(a){a.value=b})}Joomla.submitform("item.setType",document.getElementById("item-form"))}else if("item.cancel"==a||document.formvalidator.isValid(document.getElementById("item-form")))Joomla.submitform(a,document.getElementById("item-form"));else{var c=document.querySelectorAll("#item-form .modal-value.invalid");c.forEach(function(a){var b=a.getAttribute("id").split("").reverse().join(""),c=b.indexOf("_"),d=b.substr(c).split("").reverse().join("")+"name";document.getElementById(d).classList.add("invalid")})}},document.addEventListener("DOMContentLoaded",function(){document.getElementById("jform_menutype").addEventListener("change",function(a){var b=a.target.value;Joomla.request({url:"index.php?option=com_menus&task=item.getParentItem&menutype="+b,headers:{"Content-Type":"application/json"},onSuccess:function(a,b){var c=JSON.parse(a),d=document.querySelectorAll("#jform_parent_id option");d.forEach(function(a){"1"!=a&&a.remove()}),c.forEach(function(a){var b=document.createElement("option");b.innerText=value,b.id=a.id,document.getElementById("jform_parent_id").appendChild(b)}),document.getElementById("jform_parent_id").trigger("change")},onError:function(a){Joomla.renderMessages(Joomla.ajaxErrorsMessages(a))}})})})}();