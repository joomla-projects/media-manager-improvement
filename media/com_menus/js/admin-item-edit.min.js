!function(){"use strict";Joomla.submitbutton=function(e,t){if("item.setType"==e||"item.setMenuType"==e){if("item.setType"==e){(n=document.querySelectorAll('#item-form input[name="jform[type]"]')).forEach(function(e){e.value=t}),document.getElementById("fieldtype").value="type"}else{(n=document.querySelectorAll('#item-form input[name="jform[menutype]"]')).forEach(function(e){e.value=t})}Joomla.submitform("item.setType",document.getElementById("item-form"))}else if("item.cancel"==e||document.formvalidator.isValid(document.getElementById("item-form")))Joomla.submitform(e,document.getElementById("item-form"));else{var n=document.querySelectorAll("#item-form .modal-value.invalid");n.forEach(function(e){var t=e.getAttribute("id").split("").reverse().join(""),n=t.indexOf("_"),o=t.substr(n).split("").reverse().join("")+"name";document.getElementById(o).classList.add("invalid")})}},document.addEventListener("DOMContentLoaded",function(){document.getElementById("jform_menutype").addEventListener("change",function(e){var t=e.target.value;Joomla.request({url:"index.php?option=com_menus&task=item.getParentItem&menutype="+t,headers:{"Content-Type":"application/json"},onSuccess:function(e,t){var n=JSON.parse(e);document.querySelectorAll("#jform_parent_id option").forEach(function(e){"1"!=e&&e.remove()}),n.forEach(function(e){var t=document.createElement("option");t.innerText=value,t.id=e.id,document.getElementById("jform_parent_id").appendChild(t)}),document.getElementById("jform_parent_id").trigger("change")},onError:function(e){Joomla.renderMessages(Joomla.ajaxErrorsMessages(e))}})})})}();