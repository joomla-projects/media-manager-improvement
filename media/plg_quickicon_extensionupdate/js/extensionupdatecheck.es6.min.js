(()=>{"use strict";document.addEventListener("DOMContentLoaded",()=>{if(Joomla.getOptions("js-extensions-update")){const e=Joomla.getOptions("js-extensions-update");Joomla.request({url:`${e.ajaxUrl}&eid=0&skip=700`,method:"GET",data:"",perform:!0,onSuccess:n=>{const t=document.getElementById("plg_quickicon_extensionupdate"),s=t.querySelectorAll("span.j-links-link"),o=JSON.parse(n);if(o instanceof Array)if(0===o.length){t.classList.add("success");for(let e=0,n=s.length;e<n;e+=1)s[e].innerHTML=Joomla.JText._("PLG_QUICKICON_EXTENSIONUPDATE_UPTODATE")}else{const n={message:[`${Joomla.JText._("PLG_QUICKICON_EXTENSIONUPDATE_UPDATEFOUND_MESSAGE").replace("%s",`<span class="badge badge-light">${o.length}</span>`)}<button class="btn btn-primary" onclick="document.location='${e.url}'">${Joomla.JText._("PLG_QUICKICON_EXTENSIONUPDATE_UPDATEFOUND_BUTTON")}</button>`],error:["info"]};Joomla.renderMessages(n),window.scrollTo(0,0),t.classList.add("danger");for(let e=0,n=s.length;e<n;e+=1)s[e].innerHTML=Joomla.JText._("PLG_QUICKICON_EXTENSIONUPDATE_UPDATEFOUND").replace("%s",`<span class="badge badge-light">${o.length}</span>`)}else{t.classList.add("danger");for(let e=0,n=s.length;e<n;e+=1)s[e].innerHTML=Joomla.JText._("PLG_QUICKICON_EXTENSIONUPDATE_ERROR")}},onError:()=>{const e=document.getElementById("plg_quickicon_extensionupdate"),n=e.querySelectorAll("span.j-links-link");e.classList.add("danger");for(let e=0,t=n.length;e<t;e+=1)n[e].innerHTML=Joomla.JText._("PLG_QUICKICON_EXTENSIONUPDATE_ERROR")}})}})})();