Joomla=window.Joomla||{},function(){"use strict";Joomla.extractionMethodHandler=function(e,t){var n="direct"===e.value?"none":"table-row";document.getElementById(t+"_hostname").style.display=n,document.getElementById(t+"_port").style.display=n,document.getElementById(t+"_username").style.display=n,document.getElementById(t+"_password").style.display=n,document.getElementById(t+"_directory").style.display=n},Joomla.submitbuttonUpload=function(){var e=document.getElementById("uploadForm");""==e.install_package.value?alert(Joomla.JText._("COM_INSTALLER_MSG_INSTALL_PLEASE_SELECT_A_PACKAGE"),!0):e.submit()},document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("extraction_method"),t=document.getElementById("upload_method"),n=document.getElementById("uploadButton"),o=document.getElementById("downloadMessage");e&&e.addEventListener("change",function(t){Joomla.extractionMethodHandler(e,"row_ftp")}),t&&t.addEventListener("change",function(e){Joomla.extractionMethodHandler(t,"upload_ftp")}),n&&n.addEventListener("click",function(e){o&&(o.style.display="block")})})}(),function(e,t,n){var o={};o.config={serverUrl:"index.php?option=com_joomlaupdate&task=update.fetchextensioncompatibility",selector:".extension-check"},o.STATE={INCOMPATIBLE:0,COMPATIBLE:1,MISSING_COMPATIBILITY_TAG:2,SERVER_ERROR:3},o.run=function(){o.joomlaTargetVersion=n.joomlaTargetVersion;e(o.config.selector).each(function(){o.checkCompatibility(e(this),o.setResultView)})},o.checkCompatibility=function(t,n){var a={$element:t,state:o.STATE.SERVER_ERROR,compatibleVersion:0};e.getJSON(o.config.serverUrl,{"joomla-target-version":o.joomlaTargetVersion,"extension-id":t.data("extensionId")}).done(function(e){a.state=e.data.state,a.compatibleVersion=e.data.compatibleVersion,a.currentVersion=t.data("extensionCurrentVersion")}).always(function(e){n(a)})},o.setResultView=function(e){var t="";switch(e.state){case o.STATE.COMPATIBLE:t=e.compatibleVersion==e.currentVersion?'<span class="label label-success">'+Joomla.JText._("JYES")+"</span>":'<span class="label label-warning">'+Joomla.JText._("JYES")+" ("+e.compatibleVersion+")</span>";break;case o.STATE.INCOMPATIBLE:t='<span class="label label-important">'+Joomla.JText._("JNO")+"</span>";break;case o.STATE.MISSING_COMPATIBILITY_TAG:t='<span class="label">'+Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_VERSION_MISSING")+"</span>";break;default:t='<span class="label">'+Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")+"</span>"}e.$element.html(t)},e(o.run)}(jQuery,document,window);