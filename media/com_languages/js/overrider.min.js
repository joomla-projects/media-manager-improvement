Joomla.overrider={states:{refreshing:!1,refreshed:!1,counter:0,searchstring:"",searchtype:"value"}},Joomla.overrider.refreshCache=function(){var e=jQuery.noConflict(),s=this;this.states.refreshing=!0,e("#refresh-status").slideDown().css("display","block"),e.ajax({type:"POST",url:"index.php?option=com_languages&task=strings.refresh&format=json",dataType:"json"}).done(function(r){r.error&&r.message&&alert(r.message),r.messages&&Joomla.renderMessages(r.messages),e("#refresh-status").slideUp().hide(),s.states.refreshing=!1}).fail(function(s){alert(Joomla.JText._("COM_LANGUAGES_VIEW_OVERRIDE_REQUEST_ERROR")),e("#refresh-status").slideUp().hide()})},Joomla.overrider.searchStrings=function(e){var s=jQuery.noConflict(),r=this;this.states.refreshing||(e||(this.states.searchstring=s("#jform_searchstring").val(),this.states.searchtype=null!==s("#jform_searchtype")?s("#jform_searchtype").val():"value"),this.states.searchstring?(e?s("#more-results").addClass("overrider-spinner"):(s("#more-results").hide(),s("#results-container div.language-results").remove(),s("#results-container").addClass("overrider-spinner").slideDown().css("display","block")),s.ajax({type:"POST",url:"index.php?option=com_languages&task=strings.search&format=json",data:"searchstring="+r.states.searchstring+"&searchtype="+r.states.searchtype+"&more="+e,dataType:"json"}).done(function(e){e.error&&e.message&&alert(e.message),e.messages&&Joomla.renderMessages(e.messages),e.data&&(e.data.results&&r.insertResults(e.data.results),e.data.more?(r.states.more=e.data.more,s("#more-results").slideDown().css("display","block")):s("#more-results").hide()),s("#results-container").removeClass("overrider-spinner"),s("#more-results").removeClass("overrider-spinner")}).fail(function(e){alert(Joomla.JText._("COM_LANGUAGES_VIEW_OVERRIDE_REQUEST_ERROR")),s("#results-container").removeClass("overrider-spinner"),s("#more-results").removeClass("overrider-spinner")})):s("#jform_searchstring").addClass("invalid"))},Joomla.overrider.insertResults=function(e){var s=jQuery.noConflict(),r=this;this.states.counter=this.states.counter+1;var t=s("<div>",{id:"language-results"+r.states.counter,class:"language-results",style:"display:none;"});s.each(e,function(e,a){var o=s("<div>",{class:"result row"+e%2,onclick:"Joomla.overrider.selectString("+r.states.counter+e+");"}),n=s("<div>",{id:"override_key"+r.states.counter+e,class:"result-key",html:a.constant,title:a.file}),i=s("<div>",{id:"override_string"+r.states.counter+e,class:"result-string",html:a.string});n.appendTo(o),i.appendTo(o),o.appendTo(t)}),e.length||s("<div>",{html:Joomla.JText._("COM_LANGUAGES_VIEW_OVERRIDE_NO_RESULTS")}).appendTo(t),s("#more-results").before(t),s("#language-results"+this.states.counter).slideDown().css("display","block")},Joomla.overrider.selectString=function(e){var s=jQuery.noConflict();s("#jform_key").val(s("#override_key"+e).html()),s("#jform_override").val(s("#override_string"+e).html()),s(window).scrollTop(0)};