!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return e.Pass;for(var o=r.listSelections(),s=[],d=0;d<o.length;d++){var l=o[d].head,c=r.getStateAfter(l.line),a=!1!==c.list,f=0!==c.quote,u=r.getLine(l.line),p=n.exec(u);if(!o[d].empty()||!a&&!f||!p)return void r.execCommand("newlineAndIndent");if(t.test(u))/>\s*$/.test(u)||r.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[d]="\n";else{var m=p[1],x=p[5],b=i.test(p[2])||p[2].indexOf(">")>=0?p[2].replace("x"," "):parseInt(p[3],10)+1+p[4];s[d]="\n"+m+b+x}}r.replaceSelections(s)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return e.Pass;for(var o=r.listSelections(),s=[],d=0;d<o.length;d++){var l=o[d].head,c=r.getStateAfter(l.line),a=!1!==c.list,f=0!==c.quote,u=r.getLine(l.line),p=n.exec(u);if(!o[d].empty()||!a&&!f||!p)return void r.execCommand("newlineAndIndent");if(t.test(u))/>\s*$/.test(u)||r.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[d]="\n";else{var m=p[1],x=p[5],b=i.test(p[2])||p[2].indexOf(">")>=0?p[2].replace("x"," "):parseInt(p[3],10)+1+p[4];s[d]="\n"+m+b+x}}r.replaceSelections(s)}});