!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],a):a(CodeMirror)}(function(a){var b=2;a.defineMode("yaml-frontmatter",function(c,d){function e(a){return a.state==b?g:f}var f=a.getMode(c,"yaml"),g=a.getMode(c,d&&d.base||"gfm");return{startState:function(){return{state:0,inner:a.startState(f)}},copyState:function(b){return{state:b.state,inner:a.copyState(e(b),b.inner)}},token:function(c,d){if(0==d.state)return c.match(/---/,!1)?(d.state=1,f.token(c,d.inner)):(d.state=b,d.inner=a.startState(g),g.token(c,d.inner));if(1==d.state){var e=c.sol()&&c.match(/---/,!1),h=f.token(c,d.inner);return e&&(d.state=b,d.inner=a.startState(g)),h}return g.token(c,d.inner)},innerMode:function(a){return{mode:e(a),state:a.inner}},blankLine:function(a){var b=e(a);if(b.blankLine)return b.blankLine(a.inner)}}})});