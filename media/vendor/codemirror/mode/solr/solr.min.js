!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("solr",function(){var e=/[^\s\|\!\+\-\*\?\~\^\&\:\(\)\[\]\{\}\"\\]/,t=/[\|\!\+\-\*\?\~\^\&]/,n=/^(OR|AND|NOT|TO)$/i;function r(t){return function(r,i){for(var u=t;(t=r.peek())&&null!=t.match(e);)u+=r.next();return i.tokenize=o,n.test(u)?"operator":(f=u,parseFloat(f).toString()===f?"number":":"==r.peek()?"field":"string");var f}}function o(n,i){var u=n.next();'"'==u?i.tokenize=(a=u,function(e,t){for(var n,r=!1;null!=(n=e.next())&&(n!=a||r);)r=!r&&"\\"==n;return r||(t.tokenize=o),"string"}):t.test(u)?i.tokenize=(f=u,function(e,t){var n="operator";return"+"==f?n+=" positive":"-"==f?n+=" negative":"|"==f?e.eat(/\|/):"&"==f?e.eat(/\&/):"^"==f&&(n+=" boost"),t.tokenize=o,n}):e.test(u)&&(i.tokenize=r(u));var f,a;return i.tokenize!=o?i.tokenize(n,i):null}return{startState:function(){return{tokenize:o}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)}}}),e.defineMIME("text/x-solr","solr")});