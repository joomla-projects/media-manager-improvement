!function(){"use strict";var e=function(n){var t=n,i=function(){return t};return{get:i,set:function(e){t=e},clone:function(){return e(i())}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return{isFullscreen:function(){return null!==e.get()}}},i=function(e,n){e.fire("FullscreenStateChanged",{state:n})},r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils").DOM,l=function(e,n){var t,l,o,c,u=document.body,s=document.documentElement,d=n.get(),a=function(){r.setStyle(o,"height",function(){var e,n,t=window,i=document.body;return i.offsetWidth&&(e=i.offsetWidth,n=i.offsetHeight),t.innerWidth&&t.innerHeight&&(e=t.innerWidth,n=t.innerHeight),{w:e,h:n}}().h-(l.clientHeight-o.clientHeight))},h=function(){r.unbind(window,"resize",a)};if(t=(l=e.getContainer()).style,c=(o=e.getContentAreaContainer().firstChild).style,d)c.width=d.iframeWidth,c.height=d.iframeHeight,d.containerWidth&&(t.width=d.containerWidth),d.containerHeight&&(t.height=d.containerHeight),r.removeClass(u,"mce-fullscreen"),r.removeClass(s,"mce-fullscreen"),r.removeClass(l,"mce-fullscreen"),m=d.scrollPos,window.scrollTo(m.x,m.y),r.unbind(window,"resize",d.resizeHandler),e.off("remove",d.removeHandler),n.set(null),i(e,!1);else{var f={scrollPos:function(){var e=r.getViewPort();return{x:e.x,y:e.y}}(),containerWidth:t.width,containerHeight:t.height,iframeWidth:c.width,iframeHeight:c.height,resizeHandler:a,removeHandler:h};c.width=c.height="100%",t.width=t.height="",r.addClass(u,"mce-fullscreen"),r.addClass(s,"mce-fullscreen"),r.addClass(l,"mce-fullscreen"),r.bind(window,"resize",a),e.on("remove",h),a(),n.set(f),i(e,!0)}var m},o=function(e,n){e.addCommand("mceFullScreen",function(){l(e,n)})},c=function(e){return function(n){var t=n.control;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}},u=function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:c(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:c(e)})};n.add("fullscreen",function(n){var i=e(null);return o(n,i),u(n),n.addShortcut("Ctrl+Shift+F","","mceFullScreen"),t(i)})}();