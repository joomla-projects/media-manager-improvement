Joomla=window.Joomla||{},Joomla.MediaManager=Joomla.MediaManager||{},Joomla.MediaManager.Edit=Joomla.MediaManager.Edit||{},function(){"use strict";var e=function(e,t){var a=document.getElementById("image-source"),n=document.createElement("canvas");n.width=e,n.height=t,n.getContext("2d").drawImage(a,0,0,e,t);var i="jpg"===Joomla.MediaManager.Edit.original.extension?"jpeg":Joomla.MediaManager.Edit.original.extension,o=document.getElementById("jform_resize_quality").value;Joomla.MediaManager.Edit.current.contents=n.toDataURL("image/"+i,o),(a=document.getElementById("image-preview")).width=e,a.height=t,a.src=Joomla.MediaManager.Edit.current.contents,document.getElementById("jform_resize_width").value=parseInt(e),document.getElementById("jform_resize_height").value=parseInt(t),window.dispatchEvent(new Event("mediaManager.history.point"))};Joomla.MediaManager.Edit.resize={Activate:function(t){setTimeout(function(){var t=document.getElementById("image-source"),a=document.getElementById("jform_resize_width"),n=document.getElementById("jform_resize_height");a.value=t.width,n.value=t.height,a.addEventListener("change",function(){e(parseInt(this.value),parseInt(this.value)/(t.width/t.height))}),n.addEventListener("change",function(){e(parseInt(this.value)*(t.width/t.height),parseInt(this.value))}),a=document.getElementById("jform_resize_w"),n=document.getElementById("jform_resize_h"),a.min=0,a.max=t.width,a.value=t.width,n.min=0,n.max=t.height,n.value=t.height,a.addEventListener("input",function(){e(parseInt(this.value),parseInt(this.value)/(t.width/t.height))}),n.addEventListener("input",function(){e(parseInt(this.value)*(t.width/t.height),parseInt(this.value))})},1e3)},Deactivate:function(){}}}();